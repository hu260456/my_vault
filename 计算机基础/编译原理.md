- 语法分析器
	- 从词法分析器输出的 token 序列中识别各类短语，并构造语法分析树
- 中间表示形式
	- 三地址码(最多三个操作数)
	    - 四元式：(op, x, y, z)
	    - 三元式
	    - 间接三元式
- 语法结构树（语法树）≠ 语法分析树
- 文法
	- $G = (V_T, V_N, P, S)$
	- $G$: 文法名字
	- $V_T$: 终结符集合（非空），终结符是文法所定义语言的基本符号，也称 `token`
	    - 约定这些是终结符
		    - 大写字母
		    - 运算符
		    - 字典序较小的小写字母
		    - 标点符号
		    - 数字
		    - 粗体字符串
	- $V_N$: 非终结符集合（非空），非终结符是用来表示语法成分的符号，也称 `语法变量`
	    - $V_T$ 和 $V_N$ 是不相交的，统称 `文法符号集`
	    - 约定这些是非终结符
		    - 字典序较小的大写字母
		    - 字母 S 通常用来表示开始符号，因此也是非终结符
		    - 小写、斜体的名字
		    - 小写希腊字母，表示表示文法符号串
	- P：产生式集合，产生式描述了终结符和非终结符组合成串的规则
	    - $\alpha → \beta$ 读作 $\alpha$(左部) 定义为 $\beta$(右部)
	    - $\beta \in ({V_T}\cup{V_N})^+$：$\beta$ 至少要包含一个 $V_N$中的元素
	- S：文法开始符号，S 本身也是个非终结符，表示文法中最大的语法单位
- 推导
	用产生式的右部替换产生式的左部
- 规约
	用产生式的左部替换产生式的右部
- Chomsky 文法分类体系
	- 0 型文法(无限制文法)
		- $\alpha → \beta$
		- 要求 $\alpha$ 至少包含一个非终结符
	- 1 型文法(上下文有关文法)
		- $\alpha_1A\alpha_2 {\rightarrow} \alpha_1\beta\alpha_2$
		- $|\alpha| \leq |\beta|$
		- 要求左部符号的个数不多于右部符号的个数
		- 不包含空产生式
	- 2 型文法(上下文无关文法, CFG)
		- $A\rightarrow{\beta}$
		- 要求左部必须是非终结符
		- $S$ 至少要在某个产生式中定义一次
	- 3 型文法(正则文法, RG)
		- 右线性文法
			- $A{\rightarrow}{wB}$ 或 $A\rightarrow{w}$
		- 左线性文法
			- $A\rightarrow{Bw}$ 或 $A\rightarrow{w}$

### 词法分析

#### 词法分析器的设计

- 词法分析的任务
	- 从左至右逐个字符地对源程序进行扫描，产生一个个单词符号
	- 输入源程序,输出单词符号
- 输出的单词符号的表示形式
	- <单词种别，单词的值>

#### 状态转换图

- 是一张有限方向图
- 一张转换图只包含有限个状态，其中有一个为初态至少要有一个终态

#### 正规表达式

- 正规集可以用正规式表示
- 正规式是表示正规集一种方法
- 一个字集合是正规集当且仅当它能用正规式表示
- 对给定的字母表 $\sum$
	- ε 和 $\emptyset$ 都是 $\sum$ 上的正规式，它们所表示的正规集为{ε}和 $\emptyset$;
	- 任何 a $\in$ $\sum$，a 是 $\sum$ 上的正规式，它所表示的正规集为 {a}
	- 假定 $e_1$ 和 $e_2$ 都是 $\sum$ 上的正规式，它们所表示的正规集为 $L(e_1)$ 和 $L(e_2)$，则
		- $(e_1|e_2)$ 为正规式，它所表示的正规集为 $L(e_1){\cup}L(e_2)$
		- $(e_1{\cdot}e_2)$ 为正规式，它所表示的正规集为 $L(e_1)L(e_2)$
		- $(e_1)^*$ 为正规式，它所表示的正规集为 $(L(e_1))^*$
		- 仅由有限次使用上述三步骤而定义的表达式才是上的正规式，仅由这些正规式表示的字集才是 $\sum$ 上的正规集

#### 有限自动机（FA）

### 语法分析

- 自顶向下
	- LL(K)分析
	- 递归下降分析
	- 预测分析
- 自底向上分析
	- 简单优先
	- 算符优先
	- 优先函数
	- LR分析：LR(0) < S(LR1) < LALR(1) < LR(1) < 无二义性

#### 判定 LL(1) 文法

- method 1
	- 已化简且无左递归
	- 左部相同的产生式 $A{\rightarrow}{r_1}|{r_2}|{r_3}|...$
		- $First(r_i){\cap}First(r_j)=\emptyset$
		- 若有候选为 $\epsilon$，其余候选式与 $Follow(A)$ 互不相交
- method 2
	- 若文法 G 的LL（1）分析表中不含多重定义的条目，则称它是 LL（1) 文法

#### LL(1) 分析器的组成

- 缓冲区
- 分析栈
- 分析表
- 控制程序